---

copyright:
  years: 2021, 2022
lastupdated: "2022-09-29"

keywords: 

subcollection: ibm-spectrum-lsf

---

{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:screen: .screen}
{:external: target="_blank" .external}
{:pre: .pre}
{:tip: .tip}
{:note: .note}
{:important: .important}
{:table: .aria-labeledby="caption"}

# Deployment values
{: #deployment-values}

The following deployment values can be used to configure the {{site.data.keyword.spectrum_short}} cluster instance on {{site.data.keyword.cloud}}:

NOT_SET refers to an empty value in the {{site.data.keyword.cloud_notm}} catalog tile. If you are using other modes like CLI, API, or Schematics UI directly to provision the HPC cluster, leave the values empty.
{: note}

| Value | Description | Is it required? | Default value |
| ----- | ----------- | --------------- | ------------ |
| `api_key` | This is the {{site.data.keyword.cloud_notm}} API key for the {{site.data.keyword.cloud_notm}} account where the {{site.data.keyword.spectrum_short}} cluster needs to be deployed. For more information on how to create an API key, see [Managing user API keys](/docs/account?topic=account-userapikey). | Yes | None |
| `cluster_prefix` | Prefix that is used to name the {{site.data.keyword.spectrum_full_notm}} cluster and {{site.data.keyword.cloud_notm}} resources that are provisioned to build the {{site.data.keyword.spectrum_full_notm}} cluster instance. You cannot create more than one instance of the LSF cluster with the same name. Make sure that the name is unique. | No | `hpcc-lsf` |
| `dedicated_host_enabled` | Set to 'true' to use dedicated hosts for compute hosts (default is 'false'). {{site.data.keyword.spectrum_short}} still dynamically provisions compute hosts at public virtual server instances, and dedicated hosts are used only for static compute hosts that are provisioned at the time the cluster is created. The number of dedicated hosts and the profile names for dedicated hosts are calculated from `worker_node_min_count` and `worker_node_instance_type`. | No | false |
| `dedicated_host_placement` | Specify 'pack' or 'spread'. The 'pack' option deploys virtual server instances on one dedicated host until full before moving on to the next dedicated host. The 'spread' option deploys instances in round-robin fashion across all of the dedicated hosts. The 'spread' option should result in mostly even distribution of instances on the hosts, while the 'pack' option might result in one dedicated host being mostly empty. | No | spread |
| `hyperthreading_enabled` | Setting this to true enables hyper-threading in the worker nodes of the cluster (default). Otherwise, hyper-threading is disabled. **Note:** Only a value of true is supported for this release. See this [FAQ](/docs/ibm-spectrum-lsf?topic=ibm-spectrum-lsf-spectrum-lsf-faqs&interface=ui#disable-hyper-threading) for an explanation of why this is the case. | No | true |
| `image_name` | Name of the custom image that you want to use to create virtual server instances in your {{site.data.keyword.cloud_notm}} account to deploy the {{site.data.keyword.spectrum_full_notm}} cluster. By default, the automation uses a base image with additional software packages documented [here](/docs/ibm-spectrum-lsf#create-custom-image). If you would like to include your application-specific binary files, follow the instructions in [Planning for custom images](/docs/vpc?topic=vpc-planning-custom-images) to create your own custom image and use that to build the {{site.data.keyword.spectrum_full_notm}} cluster through this offering. | No | `hpcc-lsf10-scale5131-rhel84-060822-v1` |
| `login_node_instance_type` | Specifies the virtual server instance profile type to be used to create the login node for the {{site.data.keyword.spectrum_short}} cluster. For choices on profile types, see [Instance profiles](/docs/vpc?topic=vpc-profiles). | No | bx2-2x8 |
| `lsf_entitlement` | Entitlement file content for core {{site.data.keyword.spectrum_short}} software. | No | "LSF_Standard 10.1 () () () pa 3f08e215230ffe4608213630cd5ef1d8c9b4dfea" |
| `lsf_license_confirmation` | If you have confirmed the availability of the {{site.data.keyword.spectrum_short}} license for a production cluster on {{site.data.keyword.cloud_notm}} or if you are deploying a non-production cluster, enter `true`. **Note:** Failure to comply with licenses for production use of software is a violation of the [IBM International Program License Agreement](https://www.ibm.com/software/passportadvantage/programlicense.html){: external} | Yes | None |
| `ls_entitlement` | Entitlement file content for {{site.data.keyword.spectrum_short}} license scheduler. | No | "LS_Standard 10.1 () () () () 18b1928f13939bd17bf25e09a2dd8459f238028f" |
| `management_node_count` | Number of management nodes. This is the total number of management and management candidates. Enter a value in the range 1 - 3. | No | 2 |
| `management_node_instance_type` | Specify the virtual server instance profile type to be used to create the management nodes for the {{site.data.keyword.spectrum_short}} cluster. For choices on profile types, see [Instance profiles](/docs/vpc?topic=vpc-profiles). | No | bx2-4x16 |
| `resource_group` | Resource group name from your {{site.data.keyword.cloud_notm}} account where the VPC resources should be deployed.  For additional information on resource groups, see [Managing resource groups](/docs/account?topic=account-rgs). | No | Default |
| `scale_compute_cluster_filesystem_mountpoint` | Compute cluster (accessingCluster) file system mount point. The accessingCluster is the cluster that accesses the owningCluster. For more information, see [Mounting a remote GPFS file system](https://www.ibm.com/docs/en/spectrum-scale/5.1.2?topic=system-mounting-remote-gpfs-file){: external}. | No | `/gpfs/fs1` |
| `scale_compute_cluster_gui_password` | Password for compute cluster GUI. **Note:** Password should be at least 8 characters, must have one number, one lowercase letter, one uppercase letter, and at least one unique character. Password should not contain username. | No | None |
| `scale_compute_cluster_gui_username` | GUI user to perform system management and monitoring tasks on the compute cluster. **Note:** Username should be at least four characters, any combination of lowercase and uppercase letters. | No | None |
| `scale_filesystem_block_size` | File system [block size](https://www.ibm.com/docs/en/spectrum-scale/5.1.2?topic=considerations-block-size){: external}. {{site.data.keyword.scale_short}} supported block sizes (in bytes): 256K, 512K, 1M, 2M, 4M, 8M, 16M. | No | 4M |
| `scale_storage_cluster_filesystem_mountpoint` | {{site.data.keyword.scale_short}} storage cluster (owningCluster) file system mount point. The owningCluster is the cluster that owns and serves the file system to be mounted. For more information, see [Mounting a remote GPFS file system](https://www.ibm.com/docs/en/spectrum-scale/5.1.2?topic=system-mounting-remote-gpfs-file){: external}. | No | `/gpfs/fs1` |
| `scale_storage_cluster_gui_password` | Password for {{site.data.keyword.scale_short}} storage cluster GUI. **Note:** Password should be at least 8 characters, must have one number, one lowercase letter, one uppercase letter, and at least one unique character. Password should not contain username. | No | None |
| `scale_storage_cluster_gui_username` | GUI user to perform system management and monitoring tasks on the storage cluster. **Note:** Username should be at least 4 characters, any combination of lowercase and uppercase letters. | No | None |
| `scale_storage_image_name` | Name of the custom image that you would like to use to create virtual machines in your {{site.data.keyword.Bluemix_notm}} account to deploy the {{site.data.keyword.scale_short}} storage cluster. By default, the automation uses a base image plus the {{site.data.keyword.scale_short}} software and any other software packages that it requires. If you'd like, you can follow the instructions for [Planning for custom images](/docs/vpc?topic=vpc-planning-custom-images) to create your own custom image with additional software and use that to build the {{site.data.keyword.scale_short}} storage cluster through this offering. | No | `hpcc-scale5131-rhel84-jun0122-v1` |
| `scale_storage_node_count` | The number of {{site.data.keyword.scale_short}} storage nodes that are provisioned at the time the cluster is created. Enter a value in the range 2 - 18. It must be divisible of 2. | No | 4 |
| `scale_storage_node_instance_type` | Specify the virtual server instance storage profile type name to be used to create the {{site.data.keyword.scale_short}} storage nodes for the {{site.data.keyword.spectrum_short}} cluster. For more information, see [Instance profiles](/docs/vpc?topic=vpc-profiles) | No | cx2d-8x16 |
| `spectrum_scale_enabled` | Setting this to true will enable {{site.data.keyword.scale_short}} integration with the cluster. Otherwise, {{site.data.keyword.scale_short}} integration will be disabled (default). By entering 'true' for the property you have also agreed to one of the two conditions: (1) You are using the software in production and confirm you have sufficient licenses to cover your use under the International Program License Agreement (IPLA). (2) You are evaluating the software and agree to abide by the International License Agreement for Evaluation of Programs (ILAE). **Note:** Failure to comply with licenses for production use of software is a violation of [IBM International Program License Agreement](https://www.ibm.com/software/passportadvantage/programlicense.html){: external}. | No | false |
| `ssh_allowed_ips` | Comma-separated list of IP addresses that can access the {{site.data.keyword.spectrum_short}} instance through an SSH interface. The default value allows any IP address to access the cluster. | No | 0.0.0.0/0 |
| `ssh_key_name` | Comma-separated list of names of the SSH key that is configured in your {{site.data.keyword.cloud_notm}} account and is used to establish a connection to the {{site.data.keyword.spectrum_short}} management node. Ensure that the SSH key is present in the same resource group and region where the cluster is being provisioned. If you do not have an SSH key in your {{site.data.keyword.cloud_notm}} account, create one by using the instructions given at [SSH keys](/docs/vpc?topic=vpc-ssh-keys). | Yes | None |
| `storage_node_instance_type` | Specify the virtual server instance profile type to be used to create the storage node for the {{site.data.keyword.symphony_short}} cluster. The storage node is the one that is used to create an NFS instance to manage the data for HPC workloads. For choices on profile types, see [Instance profiles](/docs/vpc?topic=vpc-profiles). | No | bx2-2x8 |
| `volume_capacity` | Size in GB for the block storage that would be used to build the NFS instance and would be available as a mount on the {{site.data.keyword.spectrum_short}} management node. Enter a value in the range 10 - 16,000. | No | 100 |
| `volume_iops` | Number to represent the IOPS configuration for block storage to be used for the NFS instance (valid only for `volume_profile=custom`, dependent on `volume_capacity`). Enter a value in the range 100 - 48,000. For possible options of IOPS, see [Custom IOPS profile](/docs/vpc?topic=vpc-block-storage-profiles#custom). | No | 300 |
| `volume_profile` | Name of the block storage volume type to be used for NFS instance. For possible options, see [Block storage profiles](/docs/vpc?topic=vpc-block-storage-profiles). | No | `general_purpose` |
| `vpc_name` | Name of an existing VPC in which the cluster resources are deployed. If no value is given, then a new VPC is provisioned for the cluster.  [Learn more](/docs/vpc?topic=vpc-creating-a-vpc-using-cli). | No | _NOT_SET_ |
| `vpn_enabled` | Set the value as true to deploy a VPN gateway for VPC in the cluster.| No | false |
| `vpn_peer_address` | The peer public IP address to which the VPN will be connected. | No | _NOT_SET_ |
| `vpn_peer_cidrs` | Comma-separated list of peer CIDRs (for example, 192.168.0.0/24) to which the VPN will be connected. | No | _NOT_SET_ |
| `vpn_preshared_key` | The pre-shared key for the VPN. | No | _NOT_SET_ |
| `worker_node_instance_type` | Specify the virtual server instance profile type to be used to create the worker nodes for the {{site.data.keyword.spectrum_short}} cluster. The worker nodes are the ones where the workload execution takes place and the choice should be made according to the characteristics of the workloads. For choices on profile types, see [Instance profiles](/docs/vpc?topic=vpc-profiles). **Note:** If dedicated_host_enabled == true, the available instance prefix (for example, bx2 and cx2) can be limited depending on your target region. Check `ibmcloud target -r {region_name}`; `ibmcloud is dedicated-host-profiles`. | No | bx2-4x16 |
| `worker_node_max_count` | The maximum number of worker nodes that can be deployed in the {{site.data.keyword.spectrum_short}} cluster. In order to use the [Resource Connector](https://www.ibm.com/docs/en/spectrum-lsf/10.1.0?topic=lsf-resource-connnector){: external} feature to dynamically create and delete worker nodes based on workload demand, the value that is selected for this parameter must be larger than `worker_node_min_count`. If you plan to deploy only static worker nodes in the LSF cluster, for example, when you use {{site.data.keyword.scale_short}} storage, the value for this parameter should be equal to `worker_node_min_count`. Enter a value in the range 1 - 500. | No | 10 |
| `worker_node_min_count` | The minimum number of worker nodes. This is the number of static worker nodes that will be provisioned at the time the cluster is created. If using NFS storage, enter a value in the range 0 - 500. If using {{site.data.keyword.scale_short}} storage, enter a value in the range 1 - 64. **Note:** {{site.data.keyword.scale_short}} requires a minimum of 3 compute nodes (combination of primary, secondary, management, and worker nodes) to establish a [quorum](https://www.ibm.com/docs/en/spectrum-scale/5.1.2?topic=failure-quorum#nodequo){: external} and maintain data consistency in the event of a node failure. Therefore, the minimum value of 1 might need to be larger if the value specified for `management_node_count` is less than 2. | No | 0 | 
| `zone` | {{site.data.keyword.cloud_notm}} zone name within the selected region where the {{site.data.keyword.spectrum_short}} cluster should be deployed. To get a full list of zones within a region, see [Get zones by using the CLI](/docs/vpc?topic=vpc-creating-a-vpc-in-a-different-region#get-zones-using-the-cli). | Yes | None |
{: caption="Table 1. Deployment values" caption-side="top"} 

